"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./_chunks/files-ae3fb30d.js"),t=require("./_chunks/times-dd490b81.js");require("k6/encoding"),require("k6/http");var a=require("./_chunks/options-80deb912.js");require("k6"),require("k6/metrics"),require("k6/crypto");var n=t.times_1(1e3,(function(){return{size:1,unit:"KB"}})),i=new e.Factory(e.buildAccount({login:e.ACCOUNTS.EINSTEIN})),r={davCreate:new e.Create,davUpload:new e.Upload,davPropfind:new e.Propfind,davDelete:new e.Delete},s=a.options(e._objectSpread2({tags:{test_id:"propfind-flat",issue_url:"github.com/owncloud/ocis/issues/1018"}},function(e){var t=e.files,a=e.plays;return{thresholds:t.reduce((function(e,t){return e["".concat(a.davUpload.metricTrendName,"{asset:").concat(t.unit+t.size.toString(),"}")]=[],e["".concat(a.davCreate.metricTrendName,"{asset:").concat(t.unit+t.size.toString(),"}")]=[],e["".concat(a.davDelete.metricTrendName,"{asset:").concat(t.unit+t.size.toString(),"}")]=[],e}),{})}}({plays:r,files:n})));exports.default=function(){return function(t){var a=t.files,n=t.account,i=t.credential,r=t.plays,s=[],c="".concat(__VU,"-").concat(__ITER);r.davCreate.exec({credential:i,path:c,userName:n.login}),a.forEach((function(t){var a=t.unit+t.size.toString(),o=e.buildAsset({name:"".concat(n.login,"-dummy.zip"),unit:t.unit,size:t.size});r.davUpload.exec({credential:i,path:c,asset:o,userName:n.login,tags:{asset:a}}),s.push({id:a,name:o.name})})),r.davPropfind.exec({credential:i,path:c,userName:n.login}),s.forEach((function(e){r.davDelete.exec({credential:i,userName:n.login,path:[c,e.name].join("/"),tags:{asset:e.id}})})),r.davDelete.exec({credential:i,userName:n.login,path:c})}({files:n,plays:r,credential:i.credential,account:i.account})},exports.options=s;
